# PET-PROJECT
# aiogram3_clinic_bot
Telegram bot for clinic clients // Телеграм бот для клиентов клиники

Бот разработан на примере ветеринарной клиники, но без труда может быть адаптирован для других видов организаций (поликлиники, стоматологии, салоны красоты и др.). В боте реализован удобный для пользователей интерфейс для взаимодействия с клиникой. Интегрирован с базой данных SQLite3

## Возможности бота
- Записаться в клинику;
- Ознакомиться с прайс-листом;
- Задать вопрос специалисту.

## Описание функций 
- Запись в клинику:
    - Пользователь может записаться на прием через онлайн-форму или заказать обратный звонок;
    - Бот собирает информацию о филиале клиники, имени пользователя и номере телефона;
    - Данные для обратного звонка отправляются в группу поддержки клиники.
- Прайс-лист:
    - Реализована удобная функция просмотра стоимости услуг клиники с пагинацией;
    - Услуги разделены по категориям, и пользователь может листать страницы с услугами;
    - Реализована навигация между категориями и страницами.
- Вопросы специалистам:
    - Бот редоставляет *конструктор для создания корректного сообщения*: выбор типа специалиста (например, дерматолог, терапевт, ортопед) и вида питомца, ввод вопроса и предпочитаемый способ связи;
    - Вопрос сохраняется в базе данных и отправляется в группу поддержки клиники;
    - Пользователь получает уведомление о том, что вопрос отправлен на рассмотрение;
    - Специалисты или администрация клиники могут ответить на вопрос из чата через бота, не раскрывая своих личных аккаунтов (анонимно).

## Возможности для улучшения:
- **Поддержка медиафайлов**:
    - Добавить возможность отправки фотографий или документов вместе с вопросами.
- **Расширение функционала**:
    - Реализовать систему отзывов и оценок.
- **Масштабирование базы данных**:
    - Перейти на более мощную СУБД, такую как PostgreSQL, для поддержки большего количества пользователей и данных.

## Технологический стек
- *Язык программирования*: Python
- *Фреймворк*: Aiogram 3 (для работы с Telegram API)
- *База данных*: SQLite (через SQLAlchemy для асинхронного взаимодействия)
- *Пагинация*: Реализована через инлайн-клавиатуры и callback-запросы
- *Логика состояний*: Используется FSM (Finite State Machine) для управления диалогами с пользователем
- *Форматирование сообщений*: Поддержка HTML-разметки для красивого отображения текста
- *Часовые пояса*: Преобразование времени в московский часовой пояс для корректного отображения дат

### Вспомогательные библиотеки и инструменты:
- Логирование:
    - **logging**: Стандартная библиотека Python для логирования. Используется для отслеживания ошибок и событий в боте.
- Форматирование сообщений:
    - HTML-разметка: Используется для красивого оформления текстовых сообщений (жирный шрифт, курсив, ссылки и т.д.).   
- Управление зависимостями:
    - **pip**: Менеджер пакетов Python для установки зависимостей.
- Конфигурация:
    - **config.py**: Файл конфигурации для хранения токена бота, ID группы поддержки и других настроек.

## Запуск
- Установите зависимости:
```bash
pip install -r requirements.txt
```
- Настройте конфигурацию:
Убедитесь, что в файле config.py указаны необходимые параметры, такие как TOKEN (токен бота) и GROUP_ID (ID группы поддержки).
- Запустите бота:
```bash
python main.py
```
*Важно!* Бот должен быть назначен админом в групповом чате! Иначе возникнет ошибка (https://github.com/aiogram/aiogram/issues/1569)
*Бот готов к работе.*
##

В реализации анонимного чата поддержки очень помог: https://github.com/dvkonstantinov/aiogram-support-bot-postgres

## 
Автор / author: [albback1](https://github.com/albback1)
